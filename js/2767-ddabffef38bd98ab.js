"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2767],{58853:function(e,r,n){n.d(r,{W:function(){return i}});var t=n(9669),o=n.n(t),a=n(14181),i=o().create({baseURL:a.Vw,headers:{}})},86097:function(e,r,n){var t,o;n.d(r,{I:function(){return t}}),(o=t||(t={})).COD="cod",o.Stripe="stripe",o.Paypal="paypal",o.Paymob="paymob",o.WalletPaymob="wallet_paymob",o.Paylink="paylink",o.Tap="tap",o.Tabby="tabby",o.Taager="taager",o.Moyasar="moyasar",o.Paytabs="paytabs",o.Kashier="kashier",o.MyFatoorah="my_fatoorah",o.Fawaterk="fawaterk",o.Xpay="xpay",o.Ziina="ziina",o.TransferReceipt="transfer_receipt"},2973:function(e,r,n){n.d(r,{R:function(){return b}});var t=n(47568),o=n(26042),a=n(69396),i=n(20414),l=n(11163),s=n(81723),d=n(86097),u=n(58853),c=n(55327),f=n(86501),p=n(67294),m=n(76248),h=n(36442),b=function(){var e,r=(0,l.useRouter)(),n=(0,c.U8)(),b=(0,c.Fg)(function(e){return e.id}),y=(0,p.useState)(null),x=y[0],g=y[1],_=(0,s.K)(function(e){return e.selectedPaymentMethod}),k=(0,s.K)(function(e){return{isWalletDialogOpen:e.isWalletDialogOpen,walletPhone:e.walletPhone,setIsWalletDialogOpen:e.setIsWalletDialogOpen}},m.Z),w=k.isWalletDialogOpen,v=k.walletPhone,N=k.setIsWalletDialogOpen,E=(0,h.$)();(0,p.useEffect)(function(){!w&&(null==v?void 0:v.length)===11&&x&&I(x)},[x,w,v]);var I=(e=(0,t.Z)(function(e,t,l){var s,c,p,m,h,y,x,k,w,I,P,D;return(0,i.__generator)(this,function(i){switch(i.label){case 0:if(!_||_===d.I.COD||_===d.I.TransferReceipt)return null==l||l(),[2,r.push("/thanks?order_id=".concat(e.id).concat(t?"&is_funnel=true":""))];if(s={amount:e.total_cost,currency:"ج.م"===e.custom_currency||"ج.م"===n?"EGP":e.custom_currency||n,order_id:e.id,payment_key:_,store_id:b,user_id:e.user_id||e.guest_id,user_name:e.full_name,user_email:e.email||"".concat(e.id,"@easyorders.shop"),user_phone:_===d.I.WalletPaymob?v:e.phone},_===d.I.WalletPaymob&&(!v||11!==v.length))return null==l||l(),g(e),N(!0),[2];i.label=1;case 1:if(i.trys.push([1,3,,4]),0===e.total_cost)return null==l||l(),[2,r.push("/thanks?order_id=".concat(e.id).concat(t?"&is_funnel=true":""))];return[4,u.W.post("store-payment-methods/generate-payment-link",s)];case 2:if((c=i.sent()).data.redirect_url)return null==l||l(),[2,window.location.replace(c.data.redirect_url)];return null==l||l(),[2,r.push("/thanks?order_id=".concat(e.id).concat(t?"&is_funnel=true":""))];case 3:if((null==(p=i.sent())?void 0:null===(m=p.response)||void 0===m?void 0:null===(h=m.data)||void 0===h?void 0:h.method)==="tabby")return D=(0,a.Z)((0,o.Z)({},r.query),{payment_error_method:null==p?void 0:null===(k=p.response)||void 0===k?void 0:null===(w=k.data)||void 0===w?void 0:w.method,payment_error_message:null==p?void 0:null===(I=p.response)||void 0===I?void 0:null===(P=I.data)||void 0===P?void 0:P.rejection_reason}),r.replace({pathname:r.pathname,query:D},void 0,{shallow:!0}),[2];return f.ZP.error((null==p?void 0:null===(y=p.response)||void 0===y?void 0:null===(x=y.data)||void 0===x?void 0:x.message)||E("some-error-occurred")),null==l||l(),[2,r.push("/thanks?order_id=".concat(e.id).concat(t?"&is_funnel=true":""))];case 4:return[2,r.push("/thanks")]}})}),function(r,n,t){return e.apply(this,arguments)});return I}},27561:function(e,r,n){var t,o,a,i,l,s;n.d(r,{Mo:function(){return t},ed:function(){return o},iF:function(){return a}}),(i=t||(t={})).COLOR="color",i.BUTTON="button",i.IMAGE="image",i.USER_TEXT="user_text",i.USER_IMAGE="user_image",i.DROPDOWN="dropdown",(l=o||(o={})).email="email",l.government="government",l.full_name="full_name",l.address="address",l.phone="phone",l.country="country",l.phone_alt="phone_alt",l.note="note",(s=a||(a={})).PENDING="pending",s.CONFIRMED="confirmed",s.PENDING_PAYMENT="pending_payment",s.PAID="paid",s.PAID_FAILED="paid_failed",s.PROCESSING="processing",s.WAITING_FOR_PICKUP="waiting_for_pickup",s.IN_DELIVERY="in_delivery",s.DELIVERED="delivered",s.CANCELED="canceled",s.RETURNING_FROM_DELIVERY="returning_from_delivery",s.REQUEST_REFUND="request_refund",s.REFUND_IN_PROGRESS="refund_in_progress",s.REFUNDED="refunded",s.SPAM_BLOCK="created"},27302:function(e,r,n){n.d(r,{I:function(){return k}});var t=n(26042),o=n(99534),a=n(85893),i=n(6853),l=n(27561),s=n(55327),d=n(86010),u=n(5152),c=n.n(u),f=n(67294),p=c()(function(){return n.e(4792).then(n.bind(n,64792)).then(function(e){return e.SphinxProfileIcon})},{loadableGenerated:{webpack:function(){return[64792]}}}),m=c()(function(){return n.e(7102).then(n.bind(n,17102)).then(function(e){return e.PhoneIconSphinx})},{loadableGenerated:{webpack:function(){return[17102]}}}),h=c()(function(){return n.e(7354).then(n.bind(n,67354)).then(function(e){return e.CountryIconSphinx})},{loadableGenerated:{webpack:function(){return[67354]}}}),b=c()(function(){return n.e(938).then(n.bind(n,30938)).then(function(e){return e.LocationIconSphinx})},{loadableGenerated:{webpack:function(){return[30938]}}}),y=c()(function(){return n.e(9097).then(n.bind(n,59097)).then(function(e){return e.ProfileIconElegance})},{loadableGenerated:{webpack:function(){return[59097]}}}),x=c()(function(){return n.e(2031).then(n.bind(n,32031)).then(function(e){return e.PhoneIconElegance})},{loadableGenerated:{webpack:function(){return[32031]}}}),g=c()(function(){return n.e(4591).then(n.bind(n,74591)).then(function(e){return e.EmailIconElegance})},{loadableGenerated:{webpack:function(){return[74591]}}}),_=c()(function(){return n.e(8759).then(n.bind(n,18759)).then(function(e){return e.MapIconElegance})},{loadableGenerated:{webpack:function(){return[18759]}}}),k=(0,f.forwardRef)(function(e,r){var n=e.label,u=e.type,c=void 0===u?"text":u,f=e.helperText,k=e.isError,w=e.errorMessage,v=e.textArea,N=e.tel,E=e.className,I=e.isLoading,P=void 0!==I&&I,D=e.progress,R=e.placeholder,j=e.fieldKey,O=(0,o.Z)(e,["label","type","helperText","isError","errorMessage","textArea","tel","className","isLoading","progress","placeholder","fieldKey"]),G=(0,s.Fg)(function(e){return e.theme}),T=G===s.hN.default,Z=G===s.hN.luxify,A=G===s.hN.fasty,C=G===s.hN.sphinx,F=G===s.hN.nue,S=G===s.hN.clear,M=G===s.hN.default_old,W=G===s.hN.shine,L=(0,s.Fg)(function(e){return e.lang}),U=C||T?n:R,K=(C||T)&&(j===l.ed.full_name||j===l.ed.phone||j===l.ed.phone_alt||j===l.ed.country||j===l.ed.government||j===l.ed.email);return(0,a.jsxs)("div",{className:E,children:[!C&&!T&&(0,a.jsx)("label",{htmlFor:O.name,className:"block text-sm font-medium text-black",children:n}),(0,a.jsxs)("div",{className:(0,d.Z)("relative",{"mt-1":!C}),children:[v?(0,a.jsx)("textarea",(0,t.Z)({rows:4,ref:r,className:(0,d.Z)("global_textarea",{"block w-full rounded-md border-gray-300 shadow-sm focus:border-skin-primary focus:ring-skin-primary sm:text-sm":A||M,"block w-full rounded-[14px] border-gray-200 py-2.5 md:py-3.5 placeholder:text-[#61758A] focus:border-skin-primary focus:ring-skin-primary":T,"block w-full rounded-[14px] border border-[#E2E2E2] focus:border-skin-primary focus:ring-0 sm:text-sm placeholder:text-[#778399] py-[14px] md:py-4":C,"block w-full rounded-2xl border-2  border-black shadow-[4px_4px] duration-300 ease-in-out focus:border-black focus:shadow-[6px_6px] focus:shadow-[#87CEEB] focus:ring-black sm:text-sm":F,"block w-full rounded-xl border-[#e9e9e9] shadow-sm focus:border-skin-primary focus:ring-skin-primary sm:text-sm":Z,"block w-full border-[#e9e9e9] shadow-sm focus:ring-0 focus:border-skin-primary focus:ring-skin-primary sm:text-sm":S,"block w-full border-[#e9e9e9] focus:ring-0 focus:border-skin-primary focus:ring-skin-primary sm:text-sm rounded":W,"border-sm border-red-500 ring-red-500":k,"shadow-red-500":F&&k}),defaultValue:"",placeholder:U},O)):(0,a.jsx)("input",(0,t.Z)({type:N?"tel":c,ref:r,className:(0,d.Z)("global_input",{"border-sm border-red-500 ring-red-500":k,"block w-full rounded-md border-gray-300 shadow-sm focus:border-skin-primary focus:ring-skin-primary sm:text-sm":A||M,"block w-full rounded-[14px] border-gray-200 py-2.5 md:py-3.5 placeholder:text-[#61758A] focus:border-skin-primary focus:ring-skin-primary":T,"block w-full rounded-[14px] border border-[#E2E2E2] focus:border-skin-primary focus:ring-0 sm:text-sm placeholder:text-[#778399] py-[14px] md:py-4":C,"ps-11":K&&C,"ps-12":K&&T,"block w-full rounded-2xl border-2 border-black shadow-[4px_4px] duration-300 ease-in-out focus:border-black focus:shadow-[6px_6px] focus:shadow-[#87CEEB] focus:ring-black sm:text-sm":F,"block w-full rounded-xl border-[#e9e9e9] shadow-sm focus:border-skin-primary focus:ring-skin-primary sm:text-sm":Z,"block w-full border-[#e9e9e9] shadow-sm focus:ring-0 focus:border-skin-primary focus:ring-skin-primary sm:text-sm":S,"block w-full border-[#e9e9e9]  focus:ring-0 focus:border-skin-primary focus:ring-skin-primary sm:text-sm rounded":W,"shadow-red-500":F&&k,"focus:border-primary border border-solid border-neutral-300 bg-clip-padding px-3  py-[0.32rem]  text-neutral-700 file:-mx-3 file:-my-[0.32rem] file:overflow-hidden file:rounded-none file:border-0 file:border-solid file:border-inherit file:bg-neutral-100 file:px-3 file:py-[0.32rem]  file:text-neutral-700 file:[border-inline-end-width:1px] file:[margin-inline-end:0.75rem] hover:file:bg-neutral-200 focus:outline-none":"file"===c,"text-transparent opacity-50":P}),disabled:P,placeholder:U},O)),P&&(0,a.jsx)("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-end pe-3",children:(0,a.jsx)("div",{className:"h-4 w-[55%] rounded-md bg-gray-300 shadow-md md:w-4/5",dir:"ltr",children:(0,a.jsx)("div",{className:"h-full rounded-md bg-black/70 px-1 text-xs text-white duration-200",style:{width:"".concat(D,"%")},children:Number(D)>5&&"".concat(D,"%")})})}),k&&(0,a.jsx)("div",{className:(0,d.Z)("pointer-events-none absolute  inset-y-0 flex items-center pe-3",{"left-0":"ar"===L,"right-0":"ar"!==L}),children:(0,a.jsx)(i.Z,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})}),K&&(0,a.jsx)("div",{className:(0,d.Z)("pointer-events-none absolute inset-y-0 flex items-center ps-3",{"right-0":"ar"===L&&C,"left-0":"ar"!==L&&C,"right-1":"ar"===L&&T,"left-1":"ar"!==L&&T}),children:function(){if(!K)return null;var e="h-5 w-5 text-[#778399]",r="h-5 w-5 text-[#61758A]";switch(j){case l.ed.full_name:return C?(0,a.jsx)(p,{className:e}):(0,a.jsx)(y,{className:r});case l.ed.phone:case l.ed.phone_alt:return C?(0,a.jsx)(m,{className:e}):(0,a.jsx)(x,{className:r});case l.ed.country:return C?(0,a.jsx)(h,{className:e}):(0,a.jsx)(_,{className:r});case l.ed.government:return(0,a.jsx)(b,{className:e});case l.ed.email:return(0,a.jsx)(g,{className:r});default:return null}}()})]}),f&&(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",id:"email-description",children:f}),k&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",id:"email-error",children:w})]})})}}]);